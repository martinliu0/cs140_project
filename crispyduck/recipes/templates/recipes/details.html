{% extends "base.html" %}
{% load staticfiles %}

<!DOCTYPE html>
<html>
    {% block main %}
        <p><h2><span class="recipename">{{ recipe.name }}</span></h2></p>
        {% if recipe.image.url.width > recipe.image.url.height %}
            <img src="{{ recipe.image.url }}" width=300>
        {% else %}
            <img src="{{ recipe.image.url }}" height=300>
        {% endif %}
        <br><br>
        <i><p class="description">{{ recipe.description }}</i>
        <br>
        <div class="ingredients">
        {% for ingredient in recipe.get_ingredients %}
            <li class="ingredient">{{ ingredient }}</li>
        {% endfor %}
        </div>
        <br>
        <div class="instructions">
        <b><p>Instructions</b>
        {% for instruction in recipe.recipeinstruction_set.all %}
            <li>{{ instruction.get_instruction }}</li>
        {% endfor %}
        </div>
        <br>
        <div class="review"><b><p>Reviews</b></div>
            {% if recipe.review_set %}
                {% for review in recipe.review_set.all %}
                    <li class="new-review">{{ review }}</li>
                {% endfor %}
            {% endif %}
        <p><a href="{% url 'review' recipe.id %}">Write a review</a>
        <p>Back to <a href="{% url 'index' %}">search results</a>
    {% endblock main %}
</html>
